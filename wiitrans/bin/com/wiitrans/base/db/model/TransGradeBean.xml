<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.wiitrans.base.db.model.TransGradeBeanMapper">

	<select id="SelectForTrans" resultType="com.wiitrans.base.db.model.TransGradeBean">
		select
		g.translator_grade_id,g.translator_id,g.grade_id,g.pair_id,g.editor,p.source_lang
		slang_id,p.target_lang tlang_id,g.qualified_time
		from trans_grade g
		inner
		join dict_language_pair p ON g.pair_id = p.pair_id
		where
		g.translator_id = #{uid} order by g.translator_grade_id asc
	</select>

	<select id="SelectForTransPair" resultType="com.wiitrans.base.db.model.TransGradeBean"
		parameterType="com.wiitrans.base.db.model.TransGradeBean">
		select
		g.translator_grade_id,g.translator_id,g.grade_id,g.pair_id,g.editor,p.source_lang
		slang_id,p.target_lang tlang_id,g.qualified_time
		from trans_grade g
		inner
		join dict_language_pair p ON g.pair_id = p.pair_id
		where
		g.translator_id = #{uid} and g.pair_id = #{pair_id} order by
		g.translator_grade_id asc


	</select>

	<select id="SelectAll" resultType="com.wiitrans.base.db.model.TransGradeBean">
		SELECT g.translator_grade_id,g.translator_id,g.grade_id,g.pair_id,g.editor
			,p.source_lang slang_id,p.target_lang tlang_id,g.qualified_time
			,(
			SELECT GROUP_CONCAT(industry_id ORDER BY industry_id ASC) 
			FROM trans_grade_industry 
			WHERE translator_grade_id = g.translator_grade_id
			) industry_ids
		FROM trans_grade g
		INNER JOIN dict_language_pair p 
		ON g.pair_id = p.pair_id AND g.pair_id NOT IN (6,22)
		ORDER BY g.pair_id,g.translator_id ASC
	</select>

	<select id="SelectAllForGradeNew" resultType="com.wiitrans.base.db.model.TransGradeBean">
		SELECT g.translator_grade_id,g.translator_id,g.grade_id,g.pair_id,g.editor
			,p.source_lang slang_id,p.target_lang tlang_id,g.qualified_time
			,industry_id
		FROM trans_grade_new g
		INNER JOIN dict_language_pair p 
		ON g.pair_id = p.pair_id AND g.pair_id IN (6,22) 
		ORDER BY g.pair_id,g.translator_id ASC
	</select>
	
	<select id="SelectByTransID" resultType="com.wiitrans.base.db.model.TransGradeBean">
		SELECT g.translator_grade_id,g.translator_id,g.grade_id,g.pair_id,g.editor
			,p.source_lang slang_id,p.target_lang tlang_id,g.qualified_time
			,(
			SELECT GROUP_CONCAT(industry_id ORDER BY industry_id ASC) 
			FROM trans_grade_industry 
			WHERE translator_grade_id = g.translator_grade_id
			) industry_ids
		FROM trans_grade g
		INNER JOIN dict_language_pair p 
		ON g.pair_id = p.pair_id AND g.pair_id NOT IN (6,22) AND g.translator_id = #{0}
		ORDER BY g.pair_id,g.translator_id ASC
	</select>

	<select id="SelectForGradeNewByTransID" resultType="com.wiitrans.base.db.model.TransGradeBean">
		SELECT g.translator_grade_id,g.translator_id,g.grade_id,g.pair_id,g.editor
			,p.source_lang slang_id,p.target_lang tlang_id,g.qualified_time
			,industry_id
		FROM trans_grade_new g
		INNER JOIN dict_language_pair p 
		ON g.pair_id = p.pair_id AND g.pair_id IN (6,22) AND g.translator_id = #{0}
		ORDER BY g.pair_id,g.translator_id ASC
	</select>
</mapper>